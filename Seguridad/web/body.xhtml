<h:panelGrid columns="3"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:h="http://java.sun.com/jsf/html">
    <p:outputLabel>Base de Datos:</p:outputLabel>
    <p:selectOneMenu id="listaBd" style="width: 230px" 
                     value="#{mbSeguridad.mbBasesDatos.baseDatos}">
        <f:selectItems value="#{mbSeguridad.mbBasesDatos.listaBaseDatos}"/>
        <f:converter converterId="traerBd"/>
        <p:ajax listener="#{mbSeguridad.dameModulosAcciones(0)}"
                event="change" 
                update="PickAcciones  Menu"
                process="@this listaPerfiles modulos perfilNom"/>

    </p:selectOneMenu>
    <p:commandButton icon="ui-icon-plus" 
                     style="height: 33px; width: 20px"
                     onclick="agregarBds.show();"
                     />
    <p:outputLabel> Perfiles:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p:outputLabel>
    <p:selectOneMenu  
        id="listaPerfiles" style="width: 230px"
        value="#{mbSeguridad.mbPerfiles.perfilCmb}">
        <f:selectItems value="#{mbSeguridad.mbPerfiles.listaPerfiles}" />
        <f:converter converterId="traerPerfil"/>
        <p:ajax listener="#{mbSeguridad.dameModulosAcciones(0)}"
                event="change" 
                update="PickAcciones  Menu  perfilNom"
                process="@this modulos listaBd"/>
    </p:selectOneMenu>

    <p:commandButton icon="ui-icon-plus" 
                     style="height: 33px; width: 20px"
                     actionListener="#{mbSeguridad.limpiarPerfiles()}" 
                     update="nombrePerfil" 
                     process="@this listaPerfiles"  
                     onclick="perfil.show();"
                     />
    <p:outputLabel>Modulo:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p:outputLabel>
    <p:selectOneMenu 
        id="modulos" 
        style="width: 230px"
        value="#{mbSeguridad.mbModulos.modulo}">
        <f:selectItems value="#{mbSeguridad.mbModulos.listaModulos}"/>
        <f:converter converterId="traerModulos"/>
    </p:selectOneMenu>
    <p:commandButton icon="ui-icon-plus" 
                     style="height: 33px; width: 20px"
                     onclick="modulo.show();" 
                     process="@this modulos"
                     actionListener="${mbSeguridad.cargarDatos()}"
                     update="panelPrincipal"
                     />
</h:panelGrid>
<p:pickList  
    id="PickAcciones"
    style="width: 200px"
    effect="slide"
    value="#{mbSeguridad.mbAcciones.pickAcciones}"
    var="ListaAcciones"
    itemLabel="#{ListaAcciones}"
    itemValue="#{ListaAcciones}"
    >
    <f:facet name="sourceCaption">Disponibles</f:facet>
    <f:facet name="targetCaption">Seleccionados</f:facet>
    <f:converter converterId="traerAcciones"/>
</p:pickList>
<p:commandButton 
    id="btnGuardar"
    value="Guardar"
    action="#{mbSeguridad.guardarValores()}"
    icon="ui-icon-disk"
    update="growl"
    />
<p:commandButton
    value="Cancelar"
    action="#{mbSeguridad.cancelarUsuarioPerfil()}"
    update="growl modulos listaPerfiles listaBd PickAcciones Menu"
    icon="ui-icon-cancel"
    />
